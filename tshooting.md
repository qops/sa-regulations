# 信息系统排错规则

## 定义及前置条件
#### 信息系统或系统
信息系统包括它本身的工作流以及其依赖的内部和外部条件，具体包括但不限于，客户端侧，链路，服务端侧。客户端侧可以包括用户以及软硬件实体。
链路为传输管道，无线有线等。

#### 排错
排错即为排除故障。英文为`T-Shooting`，CCNP中有专门的排错课程。

#### 必要正常条件
代表维持信息系统正常工作的必要条件，也就是信息系统的各项条件持续服务预期，维持一直。

#### 最重要的前置操作
在改变系统是一定要备份。

## 故障论述及排错原则
### 故障定理
假设当前信息系统的状态是正常的，如果在后续某一时刻出现了异常，不论什么问题，一定是当前信息系统中的某个必要正常条件缺失所导致，
使其出现了不一致或突变或失序的情况。

### 推论1
假设当前系统正常，如果主动改变某一`必要正常条件`，系统立即出现故障，那么该故障大概率是由该操作所引发。

### 法则1
如果符合推论1中的条件，一定先不要改变其他`必要正常条件`。

### 法则2
假设信息系统出现故障，之前运行正常，要排除此故障，重点考虑之前所做的变更或操作是否影响了`必要正常条件`。


## 排错的思路
网络系统是分层设计的系统，可以根据TCP/IP分层理论来逐级排除错误。

### 替换排除法
根据`推论1`我们逐一改变每一个`必要正常条件`的状态，来观察对系统整体的影响。

### 自顶向下法
利用了分层设计和工作理论，从上最上层开始往下排查。

### 自底向上法
利用了分层设计和工作理论，从最下层开始网上排查。

## 排错工具
- curl 测试上层http/https
- telnet 测试4层，传输层
- ping/traceroute 测试3层，网络层
- netstat查看Linux主机连接情况

netstat -antp
netstat -ntlp 
ss -antp 
ss -ntlp 
需要root用户权限

- whois/dig/nslookup
查看域名解析情况


